.container
  .maincontents
    = image_tag @post.image, alt:"写真", class:"maincontents__image"
    .maincontents__post
      .maincontents__post__info
        .maincontents__post__info__name
          = link_to @post.user.nickname,user_path(@post.user.id)
          さんの投稿
        .maincontents__post__info__time
          = @post.updated_at
      .maincontents__post__tiele
        = "タイトル：#{@post.title}"
      .maincontents__post__text
        = simple_format(@post.text)



      -# 以下はコメント機能-------
    - if current_user
      .maincontents__post__form
        = form_with(model: [@post,@comment], local: true) do |form|
          = form.text_area :text, placeholder: "コメントする" , rows: "2", class: "form__input"
          = form.submit "SEND", class: "form__btn form__input"
    - else
      .maincontents__post__message
        ※※※ コメントの投稿には新規登録/ログインが必要です ※※※
    .maincontents__comments
      .maincontents__comments__title
        ＜コメント一覧＞
      - if @comments
        - @comments.each do |comment|
          .maincontents__comments__title__name
            = "#{comment.user.nickname}:"
          .maincontents__comments__title__text
            = comment.text

      -# 以上はコメント機能-------

    - if user_signed_in? && current_user.id == @post.user.id
      .maincontents__post__btn
        .maincontents__post__btn__edit
          =link_to '編集する', edit_post_path, class: ""
        .maincontents__post__btn__delete
          =link_to '削除する', post_path, method: :delete, class: ""